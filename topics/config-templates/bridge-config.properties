# 消息桥接配置模板

# Kafka到RabbitMQ桥接配置
bridge.kafka.rabbitmq.enabled=true
bridge.kafka.rabbitmq.kafka.bootstrap.servers=localhost:9092
bridge.kafka.rabbitmq.kafka.topics=orders,payments
bridge.kafka.rabbitmq.rabbitmq.host=localhost
bridge.kafka.rabbitmq.rabbitmq.port=5672
bridge.kafka.rabbitmq.rabbitmq.exchange=orders
bridge.kafka.rabbitmq.rabbitmq.routing.key=orders
bridge.kafka.rabbitmq.transform.enabled=true

# NATS到Kafka桥接配置
bridge.nats.kafka.enabled=true
bridge.nats.kafka.nats.url=nats://localhost:4222
bridge.nats.kafka.nats.subjects=orders.*
bridge.nats.kafka.kafka.bootstrap.servers=localhost:9092
bridge.nats.kafka.kafka.topics=orders
bridge.nats.kafka.transform.enabled=true

# RabbitMQ到NATS桥接配置
bridge.rabbitmq.nats.enabled=true
bridge.rabbitmq.nats.rabbitmq.host=localhost
bridge.rabbitmq.nats.rabbitmq.queue=orders
bridge.rabbitmq.nats.nats.url=nats://localhost:4222
bridge.rabbitmq.nats.nats.subject=orders
bridge.rabbitmq.nats.transform.enabled=true

# 通用桥接配置
bridge.enabled=true
bridge.async.enabled=true
bridge.batch.enabled=true
bridge.batch.size=100
bridge.batch.timeout.ms=1000

# 消息转换配置
bridge.transform.enabled=true
bridge.transform.format.from=json
bridge.transform.format.to=json
bridge.transform.field.mapping.enabled=true
bridge.transform.field.mapping.file=/etc/mq/bridge-field-mapping.json

# 错误处理配置
bridge.error.handling.enabled=true
bridge.error.handling.strategy=dlq  # dlq/retry/ignore
bridge.error.handling.dlq.topic=bridge-dlq
bridge.error.handling.retry.max.attempts=3
bridge.error.handling.retry.backoff.ms=1000

# 可靠性配置
bridge.reliability.enabled=true
bridge.reliability.ack.mode=all  # none/one/all
bridge.reliability.idempotency.enabled=true
bridge.reliability.order.guarantee.enabled=false

# 性能优化配置
bridge.optimization.enabled=true
bridge.optimization.connection.pool.size=10
bridge.optimization.thread.pool.size=5
bridge.optimization.compression.enabled=true
bridge.optimization.compression.type=snappy

# 监控配置
bridge.monitor.enabled=true
bridge.monitor.metrics=bridge_count,bridge_latency,bridge_errors,bridge_throughput
bridge.monitor.alert.enabled=true
bridge.monitor.alert.error.threshold=0.01  # 1%错误率
bridge.monitor.alert.latency.threshold=1000  # 1秒延迟
