# 消息缓存配置模板

# 消息缓存配置
cache.enabled=true
cache.type=lru  # lru/ttl/fifo
cache.max.size=10000
cache.expire.after.write.minutes=5
cache.expire.after.access.minutes=10

# 热点消息缓存配置
cache.hotspot.enabled=true
cache.hotspot.max.size=1000
cache.hotspot.expire.after.write.minutes=30
cache.hotspot.hit.rate.threshold=0.8  # 80%命中率

# 元数据缓存配置
cache.metadata.enabled=true
cache.metadata.max.size=1000
cache.metadata.expire.after.write.minutes=60
cache.metadata.refresh.interval.minutes=30

# 分层缓存配置
cache.layered.enabled=false
cache.layered.levels=2  # L1本地缓存，L2分布式缓存
cache.layered.l1.max.size=1000
cache.layered.l2.max.size=10000

# 缓存预热配置
cache.warmup.enabled=true
cache.warmup.strategy=on_startup  # on_startup/on_demand/scheduled
cache.warmup.scheduled.time=00:00  # 每天0点预热
cache.warmup.keys=hotspot_keys.txt

# 缓存一致性配置
cache.consistency.enabled=true
cache.consistency.strategy=ttl  # ttl/invalidation/update
cache.consistency.invalidation.enabled=false
cache.consistency.update.strategy=write_through  # write_through/write_back

# 缓存穿透防护配置
cache.penetration.protection.enabled=true
cache.penetration.protection.type=bloom_filter  # bloom_filter/null_cache
cache.penetration.protection.bloom.filter.size=100000
cache.penetration.protection.bloom.filter.fpp=0.01  # 1%误判率

# 缓存击穿防护配置
cache.breakdown.protection.enabled=true
cache.breakdown.protection.strategy=mutex  # mutex/semaphore
cache.breakdown.protection.mutex.timeout.ms=1000

# 缓存性能优化配置
cache.performance.optimization.enabled=true
cache.performance.optimization.async.load.enabled=true
cache.performance.optimization.batch.load.enabled=false
cache.performance.optimization.batch.size=100

# 缓存监控配置
cache.monitor.enabled=true
cache.monitor.metrics=cache_hit_rate,cache_miss_rate,cache_size,cache_eviction_count
cache.monitor.alert.enabled=true
cache.monitor.alert.hit.rate.threshold=0.7  # 70%命中率告警
cache.monitor.alert.size.threshold=0.9  # 90%容量告警
