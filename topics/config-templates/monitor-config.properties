# 消息监控配置模板

# Prometheus配置
prometheus.enabled=true
prometheus.port=9090
prometheus.retention.time=15d
prometheus.scrape.interval=15s
prometheus.scrape.timeout=10s

# Grafana配置
grafana.enabled=true
grafana.port=3000
grafana.admin.user=admin
grafana.admin.password=admin
grafana.datasource.prometheus.url=http://prometheus:9090

# Kafka监控配置
kafka.monitor.enabled=true
kafka.exporter.enabled=true
kafka.exporter.port=9308
kafka.exporter.kafka.brokers=localhost:9092
kafka.monitor.metrics=throughput,latency,error_rate,lag,connections

# NATS监控配置
nats.monitor.enabled=true
nats.exporter.enabled=true
nats.exporter.port=7777
nats.exporter.nats.url=nats://localhost:4222
nats.monitor.metrics=throughput,latency,error_rate,connections,subscriptions

# RabbitMQ监控配置
rabbitmq.monitor.enabled=true
rabbitmq.exporter.enabled=true
rabbitmq.exporter.port=9419
rabbitmq.exporter.rabbitmq.url=http://localhost:15672
rabbitmq.exporter.rabbitmq.user=guest
rabbitmq.exporter.rabbitmq.password=guest
rabbitmq.monitor.metrics=throughput,latency,error_rate,queue_length,connections

# 监控指标配置
monitor.metrics.throughput.enabled=true
monitor.metrics.latency.enabled=true
monitor.metrics.error_rate.enabled=true
monitor.metrics.resource.enabled=true
monitor.metrics.business.enabled=true

# 告警配置
alert.enabled=true
alert.manager.url=http://alertmanager:9093
alert.rules.file=/etc/prometheus/alert_rules.yml
alert.notification.channels=email,dingtalk,wechat

# 告警规则
alert.rule.throughput.threshold=1000  # 消息/秒
alert.rule.latency.threshold=1000  # 毫秒
alert.rule.error_rate.threshold=0.01  # 1%
alert.rule.lag.threshold=10000  # 消息数
alert.rule.cpu.threshold=0.8  # 80%
alert.rule.memory.threshold=0.8  # 80%
alert.rule.disk.threshold=0.8  # 80%

# 监控仪表板配置
dashboard.enabled=true
dashboard.kafka.id=12345
dashboard.nats.id=12346
dashboard.rabbitmq.id=12347
dashboard.refresh.interval=30s

# 监控数据保留
monitor.retention.metrics.days=30
monitor.retention.logs.days=7
monitor.retention.traces.days=3

# 监控性能优化
monitor.sample.rate=1.0  # 采样率
monitor.aggregation.enabled=true
monitor.compression.enabled=true
