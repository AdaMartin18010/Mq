# 消息分区配置模板

# Kafka分区配置
kafka.partition.strategy=key-hash  # key-hash/round-robin/custom
kafka.partition.count=6
kafka.partition.replication.factor=3
kafka.partition.custom.class=com.example.CustomPartitioner

# NATS分区配置（应用层）
nats.partition.enabled=true
nats.partition.strategy=subject-prefix  # subject-prefix/stream/custom
nats.partition.count=6
nats.partition.subject.pattern=orders.partition.{partition}

# RabbitMQ分区配置（应用层）
rabbitmq.partition.enabled=true
rabbitmq.partition.strategy=queue  # queue/exchange/custom
rabbitmq.partition.count=6
rabbitmq.partition.queue.pattern=orders-partition-{partition}

# 分区键配置
partition.key.field=id  # 使用消息中的字段作为分区键
partition.key.hash.algorithm=md5  # md5/sha1/sha256

# 负载均衡配置
load.balance.enabled=true
load.balance.strategy=round-robin  # round-robin/least-connections/weighted
load.balance.monitor.enabled=true

# 分区监控
partition.monitor.enabled=true
partition.monitor.metrics=partition_count,partition_size,partition_lag,partition_throughput

# 分区告警
partition.alert.enabled=true
partition.alert.imbalance.threshold=0.2  # 20%不均衡阈值
partition.alert.lag.threshold=10000  # 分区延迟阈值
partition.alert.channels=email,dingtalk
