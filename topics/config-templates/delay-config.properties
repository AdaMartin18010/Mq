# 消息延迟配置模板

# Kafka延迟消息配置（应用层）
kafka.delay.enabled=true
kafka.delay.strategy=timestamp  # timestamp/delay-topic
kafka.delay.topic.prefix=delay-
kafka.delay.scan.interval.seconds=60

# NATS延迟消息配置（JetStream原生支持）
nats.delay.enabled=true
nats.delay.max.seconds=86400  # 最大延迟24小时
nats.delay.precision.seconds=1

# RabbitMQ延迟消息配置（延迟插件）
rabbitmq.delay.enabled=true
rabbitmq.delay.exchange.type=x-delayed-message
rabbitmq.delay.exchange.name=delayed-exchange
rabbitmq.delay.max.milliseconds=86400000  # 最大延迟24小时

# 延迟策略
delay.strategy=fixed  # fixed/dynamic/exponential-backoff
delay.fixed.milliseconds=60000
delay.exponential.backoff.initial.milliseconds=1000
delay.exponential.backoff.max.milliseconds=60000
delay.exponential.backoff.multiplier=2

# 延迟消息存储
delay.storage.enabled=true
delay.storage.persistent=true
delay.storage.retention.hours=24

# 延迟消息监控
delay.monitor.enabled=true
delay.monitor.metrics=delay_count,delay_duration,delay_accuracy

# 延迟消息告警
delay.alert.enabled=true
delay.alert.threshold.count=10000  # 延迟消息积压阈值
delay.alert.threshold.accuracy.percent=95  # 延迟精度阈值
delay.alert.channels=email,dingtalk
