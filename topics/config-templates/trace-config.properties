# 消息追踪配置模板

# 追踪ID配置
trace.id.generator=uuid  # uuid/snowflake/custom
trace.id.format=hex  # hex/base64
trace.id.length=32

# 追踪采样配置
trace.sampling.enabled=true
trace.sampling.rate=0.01  # 1%采样率
trace.sampling.strategy=probabilistic  # probabilistic/rate-limiting/adaptive

# Kafka追踪配置
kafka.trace.enabled=true
kafka.trace.header.prefix=trace-
kafka.trace.headers=trace-id,span-id,parent-span-id

# NATS追踪配置
nats.trace.enabled=true
nats.trace.header.prefix=trace-
nats.trace.headers=trace-id,span-id,parent-span-id

# RabbitMQ追踪配置
rabbitmq.trace.enabled=true
rabbitmq.trace.header.prefix=trace-
rabbitmq.trace.headers=trace-id,span-id,parent-span-id

# 追踪工具集成
trace.tool=jaeger  # jaeger/zipkin/custom
trace.tool.endpoint=http://localhost:14268/api/traces
trace.tool.sampler.type=probabilistic
trace.tool.sampler.param=0.01

# 追踪数据存储
trace.storage.type=elasticsearch  # elasticsearch/cassandra/memory
trace.storage.endpoint=http://localhost:9200
trace.storage.index=trace
trace.storage.retention.days=7

# 追踪监控
trace.monitor.enabled=true
trace.monitor.metrics=trace_count,span_count,error_count,latency_p50,latency_p95,latency_p99

# 追踪告警
trace.alert.enabled=true
trace.alert.error.rate.threshold=0.05  # 5%
trace.alert.latency.p99.threshold.ms=1000
trace.alert.channels=email,dingtalk
