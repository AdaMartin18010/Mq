# 1.21 快速参考卡片

## 目录

- [1.21 快速参考卡片](#121-快速参考卡片)
  - [目录](#目录)
  - [1.21.1 Kafka快速参考](#1211-kafka快速参考)
    - [核心概念](#核心概念)
    - [常用命令](#常用命令)
  - [1.21.2 MQTT快速参考](#1212-mqtt快速参考)
    - [QoS级别](#qos级别)
    - [常用命令](#常用命令-1)
  - [1.21.3 NATS快速参考](#1213-nats快速参考)
    - [核心概念](#核心概念-1)
    - [常用命令](#常用命令-2)
  - [1.21.4 RabbitMQ快速参考](#1214-rabbitmq快速参考)
    - [Exchange类型](#exchange类型)
    - [常用命令](#常用命令-3)
  - [1.21.5 Redis Stream快速参考](#1215-redis-stream快速参考)
    - [核心概念](#核心概念-2)
    - [常用命令](#常用命令-4)

---

## 1.21.1 Kafka快速参考

### 核心概念

| 概念 | 说明 |
|------|------|
| **Topic** | 消息主题 |
| **Partition** | 分区（并行度） |
| **Replica** | 副本（高可用） |
| **ISR** | 同步副本集合 |
| **Offset** | 消息偏移量 |

### 常用命令

```bash
# 创建Topic
kafka-topics.sh --create --topic test --bootstrap-server localhost:9092

# 列出Topics
kafka-topics.sh --list --bootstrap-server localhost:9092

# 发送消息
kafka-console-producer.sh --topic test --bootstrap-server localhost:9092

# 消费消息
kafka-console-consumer.sh --topic test --bootstrap-server localhost:9092
```

---

## 1.21.2 MQTT快速参考

### QoS级别

| QoS | 说明 | 使用场景 |
|-----|------|---------|
| **0** | 最多一次 | 传感器数据 |
| **1** | 至少一次 | 重要数据 |
| **2** | 仅一次 | 关键数据 |

### 常用命令

```bash
# 发布消息
mosquitto_pub -h localhost -t test/topic -m "Hello"

# 订阅消息
mosquitto_sub -h localhost -t test/topic
```

---

## 1.21.3 NATS快速参考

### 核心概念

| 概念 | 说明 |
|------|------|
| **Subject** | 主题（通配符支持） |
| **Queue Group** | 队列组（负载均衡） |
| **JetStream** | 持久化流 |
| **Core NATS** | 内存模式 |

### 常用命令

```bash
# 启动Server
nats-server

# 发布消息
nats pub test.subject "Hello"

# 订阅消息
nats sub test.subject
```

---

## 1.21.4 RabbitMQ快速参考

### Exchange类型

| 类型 | 说明 |
|------|------|
| **Direct** | 直接路由 |
| **Topic** | 主题路由 |
| **Fanout** | 广播 |
| **Headers** | 头部路由 |

### 常用命令

```bash
# 列出Queues
rabbitmqctl list_queues

# 列出Exchanges
rabbitmqctl list_exchanges

# 创建Queue
rabbitmqctl declare queue test_queue
```

---

## 1.21.5 Redis Stream快速参考

### 核心概念

| 概念 | 说明 |
|------|------|
| **Stream** | 流（消息队列） |
| **Consumer Group** | 消费者组 |
| **XADD** | 添加消息 |
| **XREADGROUP** | 消费消息 |

### 常用命令

```bash
# 添加消息
XADD mystream * field1 value1

# 消费消息
XREADGROUP GROUP mygroup consumer1 COUNT 10 STREAMS mystream >
```

---

**最后更新**: 2025-12-31
